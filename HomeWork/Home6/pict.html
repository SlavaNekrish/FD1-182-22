<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  div {
    width: 1140px;
    margin: 0 auto;
  }
  img[src^='picture1'] {
    width: 640px;
    margin-left: 260px;
  }

  img[src^='picture2'] {
    width: 1000px;
    margin-left: 50px;
  }

  h4 {
    text-align: center;
  }

  pre {
    color: red;
  }

</style>
<body>
  <div>
  <h2>HTML тег <code><</code><code>picture></code>. Свойства и сравнение с тегом <code><</code><code>img></code></h2>
  <hr> 
  <h3>Поддержка браузерами</h3>
  <p>Тег поддерживается следующими браузерами: Edge, Firefox, Chrome, Opera, Safari.</p>
  <h3>Почему стоит использовать тег <code><</code><code>picture></code> вместо <code><</code><code>img></code></h3>
  <p>Использование изображений и анимаций в интерфейсах пользователя стало распространённой практикой в современных веб-приложениях. Хотя эти примеры современного дизайна делают упор на повышение удобства работы с приложениями, если изображения не адаптируются ко всем устройствам, то могут возникать проблемы.<br>
  Мы, разработчики, должны удовлетворять потребностям пользователей. Но чаще всего мы упускаем мелочи, способные быть очень важными из-за того, что мы ищем решения на более высоких уровнях.<br>
  Выбор между тегами picture и img может показаться мелким решением, но сделав правильный выбор, вы сможете повысить и удобство для пользователя, и производительность.<br>
  В этой статье мы расскажем о различиях между тегами <code><</code><code>picture></code> и <code><</code><code>img></code> и объясним, почему тег <code><</code><code>picture></code> более совершенен, чем <code><</code><code>img></code>.<br>
  Когда в следующий раз вы будете создавать компонент изображения на React, то воспользуйтесь полученными в этой статье знаниями. Возвращайте подходящий тег в соответствии с полученными свойствами и обрабатывайте все необходимые альтернативы. Благодаря этому вы получите супероптимизированнй компонент изображения, который можно использовать во всех веб-проектах.
  </p>
  <h3>Почему тега img недостаточно для современных веб-приложений?</h3>
  <p>Как все мы знаем, тег Img в течение длительного периода времени был одним из фундаментальных элементов HTML, и никто не сомневался в его простоте и применимости.<br>
  Однако с появлением устройств, имеющих разные размеры экрана, разрешения и сложные требования, начали возникать вопросы об отзывчивости этого тега и возможности его использования в приложениях, рассчитанных на множество различных устройств.<br>
  Все эти вопросы можно сгруппировать в две большие категории:
  <ol>
    <li>Смена разрешения — проблема передачи изображений меньшего размера для устройств с маленькими экранами.</li>
    <li>Ориентация графики — проблема отображения различных изображений при разных размерах экрана.</li>
  </ol>  
    Давайте посмотрим, как решаются эти проблемы и узнаем о дополнительных возможностях тега <code><</code><code>picture></code>.
  </p>
  <h3>Смена разрешения при помощи атрибутов <code>srcset</code> и <code>sizes</code></h3>
  <p>Как говорилось выше, современные веб-дизайнеры для привлечения пользователей часто используют изображения высокого разрешения. Но мы, разработчики, должны внимательно выбирать подходящий HTML-элемент.<br>
  Допустим, вы используете простой тег Img для изображений высокого разрешения. В таком случае при запуске приложения одно и то же изображение будет использоваться на каждом устройстве, что приведёт к проблемам с производительностью в устройствах с низким разрешением экрана, например, в мобильных телефонах.<br>
  Это может привести к более долгой загрузке изображений и частичной загрузке изображений сверху вниз.
</p>
<img src="picture1.gif" alt="carGif">
<h4>Проблема загрузки изображения сверху вниз</h4>
<p>Эту проблему можно легко решить тегом picture при помощи атрибутов <code>srcset</code> и <code>sizes</code>.</p>
<pre><code><</code><code>picture></code>
  <code><</code><code>sourse</code>
       srcset="small-car-image.jpg 400w,
               medium-car-image.jpg 800w,
               large-car-image.jpg 1200w"
       sizes="(min-width: 1280px) 1200px,
              (min-width: 768px) 400px,
              100vw">
  <code><</code>img src="medium-car-image.jpg" alt="Car">
<code><</code><code>/picture></code>
</pre>
<p>Атрибут <code>srcset</code> может принимать несколько изображений с соответствующей шириной в пикселях, а браузер использует эти значения для выбора между указанными изображениями. В показанном выше примере есть три версии одного и того же изображения в трёх разных размерах.<br>
Атрибут <code>sizes</code> задаёт пространство, которое изображение будет занимать на экране. В показанном выше примере изображение займёт до 1200px, если минимальная ширина экрана равна 1280px.<br>
Тем не менее, рекомендуется не использовать тег <code><</code><code>picture></code> только для смены разрешения, потому что ту же задачу можно решить с помощью новой версии тега <code><</code><code>img></code> (имеющей поддержку большего количества браузеров).</p>
<pre>
  <code><</code><code>img</code>srcset="small-car-image.jpg 400w,
              medium-car-image.jpg 800w,
              large-car-image.jpg 1200w"
       sizes="(min-width: 1280px) 1200px,
              (min-width: 768px) 400px,
              100vw">
  
  <code><</code>img src="medium-car-image.jpg" alt="Car">
</pre>
<p>Однако в большинстве случаев нам нужно решать проблему и смены разрешения, и ориентации графики, и лучшим решением для этого является тег <code><</code><code>picture></code>.<br>
Поэтому давайте посмотрим, как можно решить проблему ориентации графики с помощью тега <code><</code><code>picture></code>.</p>
<h3>Ориентация графики при помощи атрибута <code>media</code></h3>
<p>Основной принцип ориентации графики — показ различных изображений на основании размера экрана устройства. В большинстве случаев, изображение замечательно выглядящее на больших экранах, оказывается обрезанным или очень мелким при просмотре на мобильном устройстве.<br>
Мы можем решить эту проблему, создав различные версии изображения для разных размеров экрана. Эти разные версии могут быть альбомными, портретными или любыми другими изменёнными версиями того же изображения.<br>
С помощью тега <code><</code><code>picture></code> мы можем легко обеспечить смену разрешения, воспользовавшись несколькими тегами <code>source</code> внутри тега <code><</code><code>picture></code>.<br></p>
<pre>   <code><</code><code>picture></code>
     <code><</code><code>sourse...></code>
     <code><</code><code>sourse...></code>
     <code><</code><code>sourse...></code>
   <code><</code><code>/picture></code>
</pre>
<p>Затем можно использовать атрибут media для задания различных условий среды, в которых будут использоваться эти источники. Также можно использовать атрибуты <code>srcset</code> и <code>sizes</code> аналогично тому, о чём мы говорили в предыдущем разделе.<br>
В показанном ниже примере демонстрируется полная реализация ориентации графики и смены разрешения при помощи тега <code><</code><code>picture></code>.
</p>
<pre><code><</code><code>picture></code>
  <code><</code><code>sourse media="(orientation: landscape)"</code>

       srcset="small-car-image.jpg 200w,
               medium-car-image.jpg 600w,
               large-car-image.jpg 1000w"

       sizes="(min-width: 700px) 500px,
              (min-width: 600px) 400px,
              100vw">
  <code><</code><code>sourse media="(orientation: portrait)"</code>

      srcset="small-car-image.jpg 700w,
              medium-car-image.jpg 1200w,
              large-car-image.jpg 1600w"
       
        sizes="(min-width: 768px) 700px,
               (min-width: 1024px) 600px,
               500px">            

  <code><</code>img src="medium-car-image.jpg" alt="Car">
<code><</code><code>/picture></code>
</pre>
<p>Если экран находится в альбомной ориентации, то браузер будет отображать изображения из первого набора, а если в портретной, то из второго набора. Кроме того, можно использовать атрибут <code>media</code> с параметрами <code>max-width</code> и <code>min-width:</code></p>
<pre>  <code><</code><code>picture></code>
      <code><</code><code>sourse media="(max-width: 767px)" ....></code>
      <code><</code><code>source media="(min-width: 768px)" ....></code>
  <code><</code><code>/picture></code>
</pre>
<p>Последний тег <code><</code><code>img></code> используется для обратной совместимости с браузерами, не поддерживающими теги <code><</code><code>picture></code>.</p>
<h3>Использование с частично поддерживаемыми типами изображений</h3>
<p>Благодаря быстрому развитию технологий ежедневно появляется множество современных типов изображений. Некоторые из них, например <code>webp, svg и avif</code>, обеспечивают большее удобство для пользователей.<br>
С другой стороны, у некоторых браузеров существуют ограничения в обработке этих современных типов изображений, и если не использовать совместимые типы изображений, это может вызвать проблемы.<br>
Но мы можем с лёгкостью решить эту проблему при помощи тега Picture, поскольку он позволяет нам указать внутри несколько источников.</p>
<pre>  <code><</code><code>picture></code>
    <code><</code><code>sourse srcset="test.avif" type="image/avif"></code>
    <code><</code><code>source srcset="test.webp" type="image/webp"></code>
    <code><</code>img src="test.png" alt="test image">
  <code><</code><code>/picture></code>
</pre>
<p>В показанный выше пример включены три типа изображений в форматах <code>avif, webp и png</code>. Сначала браузер попробует формат <code>avif</code>, если не получится, то попробует <code>webp</code>. Если браузер не поддерживает ни один из них, то использует изображение png.<br>
Ситуация с тегом <code>picture</code> стала ещё интереснее, когда разработчики Chrome объявили о том, что «во вкладке Rendering инструментов DevTools появится две новые эмуляции для эмулирования частично поддерживаемых типов изображений».<br>
Начиная с Chrome 88 и далее можно использовать Chrome DevTools для проверки совместимости браузера с типами изображений.</p>
<img src="picture2.png" alt="flower">
<h4>Использование Chrome DevTools для эмулирования совместимости изображений</h4>
<h3>В заключение</h3>
<p>Хоть мы и говорили о том, насколько лучше тег <code>picture</code> по сравнению с тегом <code>img</code>, я уверен, что img не умер и умрёт ещё не скоро.<br>
Если мы будем с умом использовать имеющиеся у него атрибуты <code>srcset и size</code>, то можем выжать из тега <code>img</code> максимум. Например, можно решить проблему смены разрешения при помощи одного только тега <code>img</code>.<br>
С другой стороны, можно использовать тег <code>picture</code>, чтобы решить проблемы и смены разрешения, и ориентации графики с помощью запросов условий среды и других атрибутов.<br>
Среди прочих достоинств тега <code>picture</code> способность работать с частично поддерживаемыми типами изображений и поддержка Chrome DevTools.<br>
Однако оба эти элемента имеют свои плюсы и минусы. Поэтому нам нужно обдумывать и выбирать наиболее подходящий к нашим требованиям элемент.
</p><br><br>
<p><a href="#top">читать с начала</a></p><br>
</div>  
</body>
</html>